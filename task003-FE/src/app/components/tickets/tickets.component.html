<div class="tickets-page">
  <div class="table-card">
    <div class="table-controls">
      <div class="search-container">
        <h3>Tickets for {{ baseName }}</h3>
        <mat-form-field appearance="outline">
          <mat-label>Search tickets</mat-label>
          <input
            matInput
            [(ngModel)]="searchText"
            (ngModelChange)="onSearchChange($event)"
            placeholder="Search across all columns..."
          />
          <button
            *ngIf="searchText"
            matSuffix
            mat-icon-button
            (click)="clearSearch()"
          >
            <mat-icon>close</mat-icon>
          </button>
        </mat-form-field>
      </div>
    </div>

    <div class="table-container">
      <ag-grid-angular
        #agGrid
        class="ag-theme-material"
        [rowData]="tickets"
        [columnDefs]="columnDefs"
        [defaultColDef]="defaultColDef"
        [gridOptions]="gridOptions"
        [modules]="modules"
        (rowClicked)="onRowClicked($event)"
      >
      </ag-grid-angular>
    </div>
  </div>
</div>
